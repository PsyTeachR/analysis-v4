{"title":"2A Lab 7 Week 9","markdown":{"headingText":"2A Lab 7 Week 9 ","headingAttr":{"id":"","classes":["unnumbered"],"keyvalue":[]},"containsRefs":false,"markdown":"\n\n```{r include=FALSE}\nlibrary(webexercises)\n```\n\n**This is the pair coding activity related to @sec-nhstI.**\n\n\n::: {.callout-important}\n\nThe pair-coding tasks relating to the inferential chapters are a bit longer than the earlier ones, and you might not finish every step in the lab. Try to work through as much as you can without rushing, and treat any remaining steps as a “Challenge Yourself” activity.\n\n**Intentions behind it?**\n\nThe purpose of the pair-coding tasks from this point on is to walk you through a more complete analysis using a dataset different from the one in the respective chapters. I have chosen not to skip major steps such as descriptives and assumption checks, because real-life data analysis involves more than just running a test. Some smaller steps may be omitted, though, so refer back to the chapters for the full version of the analysis process expected for your lab reports.\n\n:::\n\n## Task 1: Open the R project for the lab {.unnumbered}\n\n## Task 2: Create a new `.Rmd` file {.unnumbered}\n\n... and name it something useful. If you need help, have a look at @sec-rmd.\n\n## Task 3: Load in the library and read in the data {.unnumbered}\n\nThe data should already be in your project folder. If you want a fresh copy, you can download the data again here: [data_pair_coding](data/data_pair_coding.zip \"download\").\n\nWe are using the packages `tidyverse` and `lsr` today, and the data file we need to read in is `dog_data_clean_wide.csv`. I've named my data object `dog_data_wide` to shorten the name but feel free to use whatever object name sounds intuitive to you.\n\nIf you have not worked through chapter 6 yet, you may need to install the package `lsr` before you can load it into the library. Run `install.packages(\"lsr\")` in your **CONSOLE**.\n\n```{r reading in data for me, echo=FALSE, message=FALSE}\nlibrary(tidyverse)\nlibrary(lsr)\n\ndog_data_wide <- read_csv(\"data/dog_data_clean_wide.csv\")\ndog_data_long <- read_csv(\"data/dog_data_clean_long.csv\")\n\n## I need dog_chi\ndog_chi <- dog_data_wide %>% \n  # Step 1\n  select(RID, Year_of_Study, Live_Pets) %>% \n  # Step 2\n  drop_na() %>% \n  # STep 3\n  mutate(Year_of_Study = factor(Year_of_Study,\n                                levels = c(\"First\", \"Second\", \"Third\", \"Fourth\", \"Fifth or above\")),\n         Live_Pets = factor(Live_Pets,\n                            levels = c(\"yes\", \"no\")))\n```\n\n\n## Task 4: Tidy data for a Chi-Square t-test {.unnumbered}\n\nLook at `dog_data_wide` and choose two categorical variables. To guide you through this example, I have selected Year of Study and whether or not the students owned pets as my categorical variable.\n\n\n* **Step 1**: Select all relevant columns from `dog_data_wide`. In my case, those would be the participant ID `RID`, `Year_of_Study`, and `Live_Pets`. Store this data in an object called `dog_chi`.\n\n* **Step 2**: Check if we have any missing values in the `dog_chi`. If so remove them with the function `drop_na()`.\n\n* **Step 3**: Convert `Year_of_Study` and `Live_Pets` into factors. Feel free to order the categories meaningfully.\n\n::: {.callout-note collapse=\"true\" icon=\"false\"}\n\n## Hints\n\n```{r eval=FALSE}\ndog_chi <- ??? %>% \n  # Step 1\n  select(???, ???, ???) %>% \n  # Step 2\n  drop_na() %>% \n  # Step 3\n  mutate(Year_of_Study = ???(Year_of_Study,\n                                levels = c(\"First\", \"Second\", \"Third\", \"Fourth\", \"Fifth or above\")),\n         Live_Pets = ???(Live_Pets,\n                            levels = c(\"yes\", \"no\")))\n```\n\n:::\n\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution for Tasks 3 and 4\n\n```{r eval=FALSE}\n# loading tidyverse and lsr into the library\nlibrary(tidyverse)\nlibrary(lsr)\n\n# reading in `dog_data_clean_wide.csv`\ndog_data_wide <- read_csv(\"dog_data_clean_wide.csv\")\n\n# Task 4: Tidying \ndog_chi <- dog_data_wide %>% \n  # Step 1\n  select(RID, Year_of_Study, Live_Pets) %>% \n  # Step 2\n  drop_na() %>% \n  # Step 3\n  mutate(Year_of_Study = factor(Year_of_Study,\n                                levels = c(\"First\", \"Second\", \"Third\", \"Fourth\", \"Fifth or above\")),\n         Live_Pets = factor(Live_Pets,\n                            levels = c(\"yes\", \"no\")))\n\n```\n\n\n:::\n\n## Task 5: Compute descriptives {.unnumbered}\n\nCreate a frequency table (or contingency table to be more exact) from `dog_chi`, i.e., we need counts for each combination of the variables. Store the data in a new data object `dog_chi_contingency`. `dog_chi_contingency` should look like this:\n\n```{r echo=FALSE, message=FALSE, warning=FALSE}\nlibrary(kableExtra)\n\ndog_chi_contingency <- dog_chi %>% \n  count(Live_Pets, Year_of_Study) %>% \n  pivot_wider(names_from = Live_Pets, values_from = n)\n\ndog_chi_contingency %>% \n  kbl() %>%\n  kable_styling()\n```\n\n\n::: {.callout-note collapse=\"true\" icon=\"false\"}\n\n## Hints\n\n```{r eval=FALSE}\ndog_chi_contingency <- dog_chi %>% \n  count(???, ???) %>% \n  pivot_wider(names_from = ???, values_from = n)\n```\n\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution\n\n```{r eval=FALSE}\n# Task 5: Frequency table\ndog_chi_contingency <- dog_chi %>% \n  count(Live_Pets, Year_of_Study) %>% \n  pivot_wider(names_from = Live_Pets, values_from = n)\n```\n\n:::\n\n:::\n\n\n## Task 6: Check assumptions {.unnumbered}\n\n\n1. Both variables should be categorical, measured at either the ordinal or nominal level. Answer: `r mcq(c(answer = \"yes\", x = \"no\"))` as `Year_of_Study` is `r mcq(c(answer = \"ordinal\", x = \"nominal\"))`, and `Live_Pets` is `r mcq(c(x = \"ordinal\", answer = \"nominal\"))`.\n\n2. Each observation in the dataset has to be independent, meaning the value of one observation does not affect the value of any other. Answer: `r mcq(c(answer = \"yes\", x = \"no\"))`\n\n3. Cells in the contingency table are mutually exclusive. Answer: `r mcq(c(answer = \"yes\", x = \"no\"))` because each individual can belong to `r mcq(c(x = \"multiple cells\", answer = \"only one cell\"))` in the contingency table.\n\n\n## Task 7: Compute a chi-square test & interpret the output {.unnumbered}\n\n* **Step 1**: Use the function `as.data.frame` to turn `dog_chi` into a dataframe. Store this output in a new data object called `dog_chi_df`.\n\n\n::: {.callout-note collapse=\"true\" icon=\"false\"}\n\n## Hints\n\n```{r eval=FALSE}\n??? <- as.data.frame(???)\n```\n\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution\n\n```{r}\ndog_chi_df <- as.data.frame(dog_chi)\n```\n\n:::\n\n:::\n\n* **Step 2**: Run the `associationTest()` function from the `lsr` package to compute the Chi-Square test. The structure of the function is as follows:\n\n```{r eval=FALSE}\nassociationTest(formula = ~ Variable1 + Variable2, data = your_dataframe)\n```\n\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution\n\n```{r eval=FALSE}\nassociationTest(formula = ~ Year_of_Study + Live_Pets, data = dog_chi_df)\n```\n\n:::\n\n\n* **Step 3**: Interpreting the output\n\n\n```{r echo=FALSE}\nassociationTest(formula = ~ Year_of_Study + Live_Pets, data = dog_chi_df)\n```\n\n\nThe Chi-Square test revealed that there is `r mcq(c(answer = \"a statistically significant association\", x = \"no statistically significant association\"))` between Year of Study and whether students live with pets, $\\chi^2$ (`r fitb(\"4\")`) = `r fitb(c(\"12.28\"))`, p = `r fitb(\".015\")`, V = `r fitb(\".209\")`. The strength of the association between the variables is considered `r mcq(c(x = \"small\", answer = \"moderate\", x = \"strong\"))`. We therefore `r mcq(c(x = \"fail to reject the null hypothesis\", answer = \"reject the null hypothesis\"))`.\n\n::: {.callout-note collapse=\"true\" icon=\"false\"}\n\n## I've typed in the correct numbers but my fields don't turn green\n\nCheck which numbers need to have 2 or 3 decimal spaces and (don't) have a leading 0.\n\n:::\n\n","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"kable","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"engine":"knitr"},"render":{"keep-tex":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":false,"code-overflow":"wrap","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true,"format-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["https://use.fontawesome.com/releases/v5.13.0/css/all.css","include/booktem.css","include/webex.css","include/glossary.css","include/style.css","include/custom.scss","include/styles.css"],"highlight-style":"a11y","include-after-body":["include/webex.js","include/script.js"],"output-file":"pc-A06.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.3.450","lightbox":true,"bibliography":["include/references.bib"],"csl":"include/apa.csl","theme":{"light":["flatly","include/light.scss"],"dark":["darkly","include/dark.scss"]},"code-annotations":false,"anchor-sections":false,"code-copy":"hover","mainfont":"","monofont":""},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}
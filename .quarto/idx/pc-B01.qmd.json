{"title":"2B Lab 1 Week 2","markdown":{"headingText":"2B Lab 1 Week 2 ","headingAttr":{"id":"","classes":["unnumbered"],"keyvalue":[]},"containsRefs":false,"markdown":"\n\n```{r include=FALSE}\nlibrary(webexercises)\n```\n\n**This is the pair coding activity related to @sec-paired.**\n\n\n\n## Task 1: Open the R project for the lab {.unnumbered}\n\n## Task 2: Create a new `.Rmd` file {.unnumbered}\n\n... and name it something useful. If you need help, have a look at @sec-rmd.\n\n## Task 3: Load in the library and read in the data {.unnumbered}\n\nThe data should already be in your project folder. If you want a fresh copy, you can download the data again here: [data_pair_coding](data/data_pair_coding.zip \"download\").\n\nWe are using the packages `rstatix`, `tidyverse`, `qqplotr`, `lsr` today.\nMake sure to load `rstatix` in before `tidyverse`.\n\nWe also need to read in `dog_data_clean_wide.csv`. Again, I've named my data object `dog_data_wide` to shorten the name but feel free to use whatever object name sounds intuitive to you. \n\nFor the plot, we will need the data in long format. We can either read in `dog_data_clean_long.csv` to take a shortcut, or wrangle the data from `dog_data_wide`. I've taken the shortcut and named my data object `dog_data_long`.\n\n\n\n```{r reading in data for me, echo=FALSE, message=FALSE}\nlibrary(rstatix)\nlibrary(tidyverse)\nlibrary(lsr)\n\ndog_data_wide <- read_csv(\"data/dog_data_clean_wide.csv\")\ndog_data_long <- read_csv(\"data/dog_data_clean_long.csv\")\n```\n\n## Task 4: Tidy data for a paired t-test {.unnumbered}\n\nNot much tidying to do for today. \n\nPick a variable of interest and select the pre- and post-scores, and calculate the difference score. Store them in a separate data object with a meaningful name.\n\nI will use Loneliness as an example and call my data object `dog_lonely`. Regardless of your chosen variable, your data object should look like/ similar to the table below. \n\n```{r echo=FALSE, warning=FALSE, message=FALSE}\ndog_lonely <- dog_data_wide %>% \n  select(RID, Loneliness_pre, Loneliness_post) %>% \n  mutate(Loneliness_diff = Loneliness_post - Loneliness_pre)\n\nhead(dog_lonely, n = 5)\n```\n\nIn `dog_data_long`, we want to turn `Stage` into a factor so we can re-order the labels (i.e., \"pre\" before \"post\").\n\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution for Tasks 3 and 4\n\n```{r}\n## Task 3\nlibrary(rstatix)\nlibrary(tidyverse)\nlibrary(lsr)\n\ndog_data_wide <- read_csv(\"data/dog_data_clean_wide.csv\")\ndog_data_long <- read_csv(\"data/dog_data_clean_long.csv\")\n\n## Task 4\ndog_lonely <- dog_data_wide %>% \n  select(RID, Loneliness_pre, Loneliness_post) %>% \n  mutate(Loneliness_diff = Loneliness_post - Loneliness_pre)\n\ndog_data_long <- dog_data_long %>% \n  mutate(Stage = factor(Stage,\n                        levels = c(\"pre\", \"post\")))\n```\n\n\n:::\n\n## Task 5: Compute descriptives {.unnumbered}\n\nWe want to determine the mean and sd of:\n\n* the pre-scores\n* the post-scores, and\n* the difference scores\n\nStore them in a data object called `descriptives`.\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution\n\n```{r}\ndescriptives <- dog_lonely %>% \n  summarise(mean_pre = mean(Loneliness_pre),\n            sd_pre = sd(Loneliness_pre),\n            mean_post = mean(Loneliness_post),\n            sd_post = sd(Loneliness_post),\n            diff = mean(Loneliness_diff),\n            sd_diff = sd(Loneliness_diff))\n```\n\n:::\n\n\n## Task 6: Check assumptions {.unnumbered}\n\n\n#### Assumption 1: Continuous DV {.unnumbered} \n\nIs the dependent variable (DV) continuous? Answer: `r longmcq(sample(c(answer = \"Yes. The DV is the difference in loneliness scores and it is continuous\", x = \"No. The DV is the difference in loneliness scores but it is categorical\", x = \"No. The DV is the pre- and post-stages and it is categorical\")))`\n\n\n#### Assumption 2: Data are independent {.unnumbered} \n\nEach pair of values in the dataset has to be independent, meaning each pair of values needs to be from a separate participant. Answer: `r mcq(c(answer = \"yes\", x = \"no\"))`\n\n#### Assumption 3: Normality {.unnumbered}\n\nLooking at the violin-boxplots below, do you think the assumption of normality holds?\n\n::: {.callout-note}\nThe axis label of Plot 2 turned out to be quite long here. I've used the escape character `\\n` to break it up across 2 lines.\n:::\n\n```{r eval = FALSE, message = FALSE}\n## Plot 1\nggplot(dog_data_long, aes(x = Stage, y = Loneliness, fill = Stage)) +\n  geom_violin(alpha = 0.5) +\n  geom_boxplot(width = 0.4, alpha = 0.8) +\n  scale_fill_viridis_d(guide = \"none\") +\n  theme_classic() +\n  labs(x = \"Time point\", y = \"mean Loneliness Scores\")\n\n## Plot 2\nggplot(dog_lonely, aes(x = \"\", y = Loneliness_diff)) +\n  geom_violin(fill = \"#21908C\", alpha = 0.5) +\n  geom_boxplot(fill = \"#21908C\", width = 0.4) +\n  theme_classic() +\n  labs(x = \"\",\n       y = \"Difference in mean Loneliness scores \\nbetween pre- and post- intervention\") # \\n forces a manual line break in the axis label\n\n```\n\n```{r fig.cap=\"Plots displayed to assess normality assumption\", echo=FALSE}\nlibrary(patchwork)\n\n## Plot 1\np1 <- ggplot(dog_data_long, aes(x = Stage, y = Loneliness, fill = Stage)) +\n  geom_violin(alpha = 0.5) +\n  geom_boxplot(width = 0.4, alpha = 0.8) +\n  scale_fill_viridis_d(guide = \"none\") +\n  theme_classic() +\n  labs(x = \"Time point\", y = \"mean Loneliness Scores\") +\n  ggtitle(\"Plot 1\")\n\n## Plot 2\np2 <- ggplot(dog_lonely, aes(x = \"\", y = Loneliness_diff)) +\n  geom_violin(fill = \"#21908C\", alpha = 0.5) +\n  geom_boxplot(fill = \"#21908C\", width = 0.4) +\n  theme_classic() +\n  labs(x = \"\",\n       y = \"Difference in mean Loneliness scores \\nbetween pre- and post- intervention\") +\n  ggtitle(\"Plot 2\")\n\np1 + p2 + plot_layout(nrow = 1)\n```\n\n\n\n\nAnswer:\n\n`r longmcq(c(x = \"yes, because both pre- and post-scores in Plot 1 are approximately normally distributed\", answer = \"yes, because the difference scores in Plot 2 are approximately normally distributed\", x = \"no, because both pre- and post-scores in Plot 1 are extremely skewed\", x = \"no, because the difference scores in Plot 2 are extremely skewed\"))`\n\n#### Conclusion from assumption tests {.unnumbered}\n\nWith all assumptions tested, which statistical test would you recommend for this analysis?\n\nAnswer: `r longmcq(c(answer = \"All assumptions held. We will conduct a paired-samples t-test.\", x = \"The assumption of normality was violated. We will conduct a Wilcoxon signed-rank test.\"))`\n\n\n\n## Task 7: Computing a paired-sample t-test with effect size & interpret the output {.unnumbered}\n\n\n* **Step 1**: Compute the paired-sample t-test. The structure of the function is as follows:\n\n```{r eval=FALSE}\nt.test(your_data$var1, your_data$var2, paired = TRUE)\n```\n\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution\n\n```{r eval=FALSE}\nt.test(dog_lonely$Loneliness_pre, dog_lonely$Loneliness_post, paired = TRUE)\n```\n\n:::\n\n\n* **Step 2**: Calculate an effect size\n\nCalculate Cohen's D. The structure of the function is as follows:\n\n```{r eval=FALSE}\ncohensD(your_data$var1, your_data$var2, method = \"paired\")\n```\n\n\n::: {.callout-caution collapse=\"true\" icon=\"false\"}\n\n## Solution\n\n```{r eval=FALSE}\ncohensD(dog_lonely$Loneliness_pre, dog_lonely$Loneliness_post, method = \"paired\")\n```\n\n:::\n\n\n* **Step 3**: Interpreting the output\n\nBelow are the outputs for the **descriptive statistics** (table), **paired-samples t-test** (main output), and **Cohenâ€™s D** (last line starting with [1]). Based on these, write up the results in APA style and provide an interpretation.\n\n```{r echo=FALSE}\ndescriptives\n\nt.test(dog_lonely$Loneliness_pre, dog_lonely$Loneliness_post, paired = TRUE)\n\ncohensD(dog_lonely$Loneliness_pre, dog_lonely$Loneliness_post, method = \"paired\")\n```\n\nWe hypothesised that there would be a significant difference between Loneliness measured before (*M* = `r fitb(\"2.04\")`, *SD* = `r fitb(\"0.53\")`) and after (*M* = `r fitb(\"1.91\")`, *SD* = `r fitb(\"0.53\")`) the dog intervention. On average, participants felt less lonely after the intervention (*M~diff~* = `r fitb(\"0.13\")`, *SD~diff~* = `r fitb(\"0.23\")`). \nUsing a paired-samples t-test, the effect was found to be `r mcq(c(answer = \"significant\", x = \"non-significant\"))` and of a `r mcq(c(answer = \"small\", x = \"medium\", x = \"large\"))` magnitude, *t*(`r fitb(\"283\")`) = `r fitb(\"9.26\")`, *p* `r fitb(\"< .001\")`, *d* = `r fitb(\"0.55\")`. We therefore `r mcq(c(x = \"fail to reject the null hypothesis\", answer = \"reject the null hypothesis in favour of H1\"))`.\n\n","srcMarkdownNoYaml":""},"formats":{"html":{"identifier":{"display-name":"HTML","target-format":"html","base-format":"html"},"execute":{"fig-width":7,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"kable","error":false,"eval":true,"cache":null,"freeze":"auto","echo":true,"output":true,"warning":true,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":false,"code-overflow":"wrap","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[],"notebook-links":true},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","to":"html","css":["https://use.fontawesome.com/releases/v5.13.0/css/all.css","include/booktem.css","include/webex.css","include/glossary.css","include/style.css","include/custom.scss","include/styles.css"],"highlight-style":"a11y","include-after-body":["include/webex.js","include/script.js"],"output-file":"pc-B01.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":true,"quarto-version":"1.5.57","lightbox":true,"bibliography":["include/references.bib"],"csl":"include/apa.csl","theme":{"light":["flatly","include/light.scss"],"dark":["darkly","include/dark.scss"]},"code-annotations":false,"anchor-sections":false,"code-copy":"hover","mainfont":"","monofont":""},"extensions":{"book":{"multiFile":true}}}},"projectFormats":["html"]}